<form
  class="user-profile-form"
  [formGroup]="profileForm"
  (ngSubmit)="onSubmit()">
  <mat-card>
    <mat-card-header>
      <mat-card-title>User Profile</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="profile-image-container" *ngIf="profileImage">
        <img [src]="profileImage" alt="Profile Image" class="profile-image" />
      </div>
      <mat-form-field class="full-width">
        <input matInput placeholder="First Name" formControlName="firstName" />
        <mat-error *ngIf="profileForm.get('firstName')?.hasError('required')">
          First Name is required.
        </mat-error>
        <mat-error *ngIf="profileForm.get('firstName')?.hasError('maxlength')">
          Maximum allowed length is 100 characters.
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput placeholder="Last Name" formControlName="lastName" />
        <mat-error *ngIf="profileForm.get('lastName')?.hasError('required')">
          Last Name is required.
        </mat-error>
        <mat-error *ngIf="profileForm.get('lastName')?.hasError('maxlength')">
          Maximum allowed length is 100 characters.
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput placeholder="Email" formControlName="email" readonly />
        <mat-error *ngIf="profileForm.get('email')?.hasError('required')">
          Email is required.
        </mat-error>
        <mat-error *ngIf="profileForm.get('email')?.hasError('maxlength')">
          Maximum allowed length is 100 characters.
        </mat-error>
        <mat-error *ngIf="profileForm.get('email')?.hasError('email')">
          Your input does not look like a valid email.
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input
          matInput
          [matDatepicker]="picker"
          [min]="minDate"
          [max]="maxDate"
          placeholder="Birth Date"
          formControlName="birthDate" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="profileForm.get('birthDate')?.hasError('required')">
          Birth Date is required.
        </mat-error>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!profileForm.dirty">
        Save
      </button>
    </mat-card-actions>
  </mat-card>
</form>
